# Semantic Web with BlockChain



**About:**
	- Did this project as a part of our Advanced Web Technology Course at TU Berlin in collaboration with Fraunhofer Fokus.
	
	- Used:
		-	Etherium BlockChain and Truffle framework.
		- 	Solidity to write Smart Contracts
		- 	Ganache as personal testing blockchain
		-	Metamask for interacting with blockchain.
		-	IPFS to store files 
		
	- Front end development we used Reactjs and Node.js framework for backend.
	
**Implementation basics:**

	-	Get periodic weather data from sense hat and store these data in seperate files.
	-	Store these files in IPFS 
	-	Allow users to deploy these files to block chain via smart contract.
	-	Etherium contract to enable users to transact the IOT data with ether as currency.



**Basic work flow (user perspective)**


The project is fairly simple. The distributed application will:


**File upload to block chain**
- Accept file from user
- Creates file blob and then uploads the file in IPFS
- The hash generated by IPFS is then written in the block chain. (Costs ether to the uploader/ seller). 

**Buying data from blockchain**
- User can view all the files uploaded till now in the web page UI.
- User selects any file (by entering the filename) he wants to buy. 
- When the file is submitted, Dapp will search for the filename in the block chain and performs following validations:
    - Is file present?
    - Does buyer have enough funds to buy the data
    - When all conditions are fulfilled contract returns the corresponding filehash.
    - The buyer can see the data in the UI.
	
	
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


**Running the dApp**
- Deploy the contract: 
    Go to terminal window then execute:
    $ Truffle migrate --reset
- Install all dependencies
    In terminal window execute:
    $ npm install
- Run the development environment
    In terminal window
    $ npm start run
- Open browser, browse as
    localhost:3000

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

**Running the Environment data collection via Raspberry Pi (master/SemanticWebAndIOT/Source/Transaction Project/GetEnvironmentData)**
- Open the "CreateData.py" file.
- Run the file.
- Data should be collected every 10 min and should be written to file every hour. New file is only created per day so all data during a single day is appended in the same file.
- master/SemanticWebAndIOT/Source/Transaction Project/Weather Data/ data contains the sample data we recorded.
